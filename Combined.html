<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Card Editor</title>
    <style>
        .card {
            position: fixed;
            width: 300px;
            height: 200px;
            background-color: #f1f1f1;
            border: 1px solid #ccc;
            margin: 10px;
        }
        .editArea {
            width: 100%;
            height: 160px;
            display: none;
        }
        .saveCancelButtons {
            display: none;
        }
        .dragHandle {
            width: 100%;
            height: 20px;
            background-color: #ccc;
            cursor: move;
        }
        #zoomInButton, #zoomOutButton, #addCardButton {
            position: fixed;
            top: 10px;
        }
        #zoomOutButton {
            left: 70px;
        }
        #addCardButton {
            left: 140px;
        }
        #canvas {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: auto;
            transform-origin: 0 0;
        }
    </style>
</head>
<body>
    <button id="zoomInButton">Zoom In</button>
    <button id="zoomOutButton">Zoom Out</button>
    <button id="addCardButton">Add New Card</button>
    <div id="canvas"></div>

    <script>
        const canvas = document.getElementById('canvas');
        let zoomLevel = 1;

        function createCard() {
            const newCard = document.createElement('div');
            newCard.className = 'card';
            newCard.innerHTML = `
                <div class="dragHandle"></div>
                <iframe class="content" style="width:100%;height:160px;"></iframe>
                <button class="editButton">Edit</button>
                <div class="saveCancelButtons">
                    <button class="saveButton">Save</button>
                    <button class="cancelButton">Cancel</button>
                </div>
                <textarea class="editArea"></textarea>
            `;
            canvas.appendChild(newCard);
            addEventListeners(newCard);
            return newCard;
        }

        // Initialize the first card
        const firstCard = createCard();
        firstCard.style.top = "10px";
        firstCard.style.left = "10px";

        document.getElementById('zoomInButton').addEventListener('click', () => {
            zoomLevel += 0.1;
            canvas.style.transform = `scale(${zoomLevel})`;
        });

        document.getElementById('zoomOutButton').addEventListener('click', () => {
            if (zoomLevel > 0.1) {
                zoomLevel -= 0.1;
                canvas.style.transform = `scale(${zoomLevel})`;
            }
        });

        document.getElementById('addCardButton').addEventListener('click', () => {
            const newCard = createCard();
            newCard.style.top = "10px";
            newCard.style.left = `${10 + canvas.getElementsByClassName('card').length * 310}px`;
        });

        function addEventListeners(card) {
            const dragHandle = card.querySelector('.dragHandle');
            const editButton = card.querySelector('.editButton');
            const saveButton = card.querySelector('.saveButton');
            const cancelButton = card.querySelector('.cancelButton');
            const editArea = card.querySelector('.editArea');
            const content = card.querySelector('.content');
            const saveCancelButtons = card.querySelector('.saveCancelButtons');
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;

            dragHandle.onmousedown = function(e) {
                e.preventDefault();
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
            };

            function elementDrag(e) {
                e.preventDefault();
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                card.style.top = `${card.offsetTop - pos2}px`;
                card.style.left = `${card.offsetLeft - pos1}px`;
            }

            function closeDragElement() {
                document.onmouseup = null;
                document.onmousemove = null;
            }

            editButton.onclick = () => {
                editArea.style.display = 'block';
                saveCancelButtons.style.display = 'block';
                editButton.style.display = 'none';
                content.style.display = 'none';
                editArea.value = content.srcdoc;
            };

            saveButton.onclick = () => {
                content.srcdoc = editArea.value;
                editArea.style.display = 'none';
                saveCancelButtons.style.display = 'none';
                editButton.style.display = 'block';
                content.style.display = 'block';
            };

            cancelButton.onclick = () => {
                editArea.style.display = 'none';
                saveCancelButtons.style.display = 'none';
                editButton.style.display = 'block';
                content.style.display = 'block';
            };
        }
    </script>
</body>
</html>